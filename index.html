<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
     <style>
         body{
              font-family: Open Sans;
              margin: auto;
              text-align: center;
              font-size: 200%;
        }
        h2{
              margin-top:2em;   
              margin-bottom:2em;
        }
        table{
            margin: auto;
        }
        span{
            font-size: 400%;
            text-align: right;
            padding-left: 1em;
        }
        td.number{
            text-align: right;
            vertical-align:bottom;
        }
        td.title{
            padding-right: 1em;
            font-size: 300%;
            vertical-align:bottom;
        }
        </style>
</head>
<body> 
    <h2>
        Was is worth it?
    </h2>

    <table>
        <tr>
            <td class="title">
                Purchased: 
            </td>
            <td class="number">
                <span id="valueBefore"></span>
            </td>
        </tr>
        <tr>
            <td class="title">
                Value Now: 
            </td>
            <td class="number">
                <span id="valueNow"></span>
            </td>
        </tr>
        <tr id="profitDiv">
            <td class="title">
                Profit: 
            </td>
            <td class="number">
                <span id="profit"></span>
            </td>
        </tr>
        <tr>
            <td class="title">
                Diff: 
            </td>
            <td class="number">
                <span id="delta"></span>
            </td>
        </tr>
    </table>
    <p id="message"> </p>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  
        <script>
            var btc = 1.00580277;
            var initialValue = 4456.35;
            var currentValue = 0;

            $.ajax({
              url: 'https://www.bitstamp.net/api/ticker/',
              dataType: 'json',
              success: function(data) {
                  currentValue = btc * data.last;
                  $("#valueBefore").html("$"+initialValue);
                  $("#valueNow").html("$"+currentValue.toFixed(2));
                  if(currentValue>initialValue){
                      $("#profit").html("$"+(currentValue-initialValue).toFixed(2));
                  } else {
                      $("#profitDiv").hide();
                  }
                  var diff = currentValue/initialValue;
                  $("#delta").html((diff *100 -100).toFixed(2) + "%");
                  if(diff < 1){
                      $("#delta").css('color', 'red');
                  } else{
                      $("#delta").css('color', 'green');
                      if(diff < 1.1){
                          $("#message").html("Woo!");
                      } else if(diff <1.25){
                          $("#message").html("Oh Boy! You made a buttload of cash!");
                      }else if(diff <2){
                          $("#message").html("Shit yes!");
                      }else{
                          $("#message").html("ðŸ¤‘ðŸ¤‘ðŸ¤‘");
                      }
                  }
                  console.log(data);
              }
            });
        </script>

</body>
</html>
